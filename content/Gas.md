---
title: Gas
date: 2023-11-15
tags: []
categories: []
toc: true
mathjax: true
comments: true
description: 
---

在Web3领域中，Gas是一种衡量和支付区块链交易、计算成本的单位。

它主要与[[以太坊]]（Ethereum）网络相关，但也适用于其他基于区块链技术的平台。Gas的概念源自以太坊的设计，用于解决网络拥堵和滥用的问题。

## Gas: 总体概念

Gas是以太坊网络上的计算单位，类似于时间单位的秒和距离单位的米。在以太坊上执行交易需要一定的计算资源，而Gas就是衡量这些计算资源所需的数量。每笔交易都需要支付一定的费用，通常称为Gas费用或交易费用，这些费用以以太坊的本地货币ETH支付。

## Gas的计算方式

在以太坊的伦敦升级之前，Gas费用的计算方式是通过一个简单的公式来确定的：Gas费用 = 消耗的Gas数量 * Gas价格。其中，消耗的Gas数量是执行交易所需的Gas总量，而Gas价格是每个Gas单位所支付的以太币数量。

Gas价格以gwei计价，是以太币的计价单位。1 Gwei等于0.000000001 ETH，而1 ETH等于10^9 Gwei。因此，Gas价格可以表示为1 Gwei，而不是0.000000001 ETH。

## Gas限制、退还机制

除了用户指定的每笔交易的Gas限制外，以太坊网络还对单个区块中允许的最大Gas数量施加了限制。这是为了确保每个区块的计算成本在可接受范围内。如果交易使用的Gas超过了用户设置的Gas限制，交易将失败并且Gas将消失。而如果交易使用的Gas少于Gas限制，未使用的Gas将退还到用户的账户中。

## 伦敦升级后的Gas费用计算

在以太坊的伦敦升级之后，Gas费用的计算方式略有不同。该升级引入了更好的Gas费用估算和更快的交易确认时间。具体的计算方式和改进可以参考相关的技术文档和升级说明。
