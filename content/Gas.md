---
title: Gas
date: 2023-11-15
tags: []
categories: []
toc: true
mathjax: true
comments: true
description: 
---

在 Web3 领域中，Gas 是一种衡量和支付区块链交易、计算成本的单位。

它主要与 [[Ethereum]]（Ethereum）网络相关，但也适用于其他基于区块链技术的平台。Gas 的概念源自以太坊的设计，用于解决网络拥堵和滥用的问题。

## Gas: 总体概念

Gas 是以太坊网络上的计算单位，类似于时间单位的秒和距离单位的米。在以太坊上执行交易需要一定的计算资源，而 Gas 就是衡量这些计算资源所需的数量。每笔交易都需要支付一定的费用，通常称为 Gas 费用或交易费用，这些费用以以太坊的本地货币 ETH 支付。

## Gas 的计算方式

在以太坊的伦敦升级之前，Gas 费用的计算方式是通过一个简单的公式来确定的：Gas 费用 = 消耗的 Gas 数量 * Gas 价格。其中，消耗的 Gas 数量是执行交易所需的 Gas 总量，而 Gas 价格是每个 Gas 单位所支付的以太币数量。

Gas 价格以 gwei 计价，是以太币的计价单位。1 Gwei 等于 0.000000001 ETH，而 1 ETH 等于 10^9 Gwei。因此，Gas 价格可以表示为 1 Gwei，而不是 0.000000001 ETH。

## Gas 限制、退还机制

除了用户指定的每笔交易的 Gas 限制外，以太坊网络还对单个区块中允许的最大 Gas 数量施加了限制。这是为了确保每个区块的计算成本在可接受范围内。如果交易使用的 Gas 超过了用户设置的 Gas 限制，交易将失败并且 Gas 将消失。而如果交易使用的 Gas 少于 Gas 限制，未使用的 Gas 将退还到用户的账户中。

## 伦敦升级后的 Gas 费用计算

在以太坊的伦敦升级之后，Gas 费用的计算方式略有不同。该升级引入了更好的 Gas 费用估算和更快的交易确认时间。具体的计算方式和改进可以参考相关的技术文档和升级说明。
