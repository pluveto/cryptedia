---
aliases:
- 三明治攻击
date: 2023-11-16
tags: []
categories: []
toc: true
mathjax: true
comments: true
description: 
---

三明治攻击是DeFi中的一种[[Front-running Attack]],攻击者会在其他用户待运行的交易前后放两个交易,以操纵某资产的价格从而获利。例如,如果攻击者看到有用户想用LINK买入大量ETH,攻击者首先可以用更高 Gas费买入ETH,然后让用户以更高价格买入ETH,最后以更高价格卖出ETH。通过这种方式,攻击者可以造成人为的价格上涨,从中获得利润,而用户得到的ETH会比预期少。

三明治攻击之所以可能,是因为区块链交易的透明度和延迟性。攻击者可以在内存池中查看待运行交易,利用更高Gas费获取确认顺序的优先级。三明治攻击主要针对使用自动市场做市商(AMM)提供流动性和价格发现的分散式交易所(DEX)。曾受三明治攻击影响的一些DEX有Uniswap、SushiSwap和PancakeSwap。

为防止或缓解三明治攻击,用户可以采取一些预防措施,如:

- 设置更低的滑点容限,即预期交易与实际交易价格间的最大偏差。这可以降低以不利价格买卖的风险,但也可能增加交易失败的几率。

- 使用限价单,即指定交易价格和数量的订单。这样可以防止攻击者操纵价格,但也可能需要更长时间成交或需要第三方服务。

- 使用Flashbots网络,即直接从用户那里接受非公开广播到内存池的交易的矿池网络。这样可以防止攻击者查看待运行交易进行前运行,但也可能需要更高Gas费或技术能力。
